{% extends "base.html" %} {% block content %} {% load app_filters %}

<button type="button">Switch off level 2 (not working yet!) </button>

<table id="log" class="display compact" style="width:80%">
    <thead>
        <tr>
            <th>Id</th>
            <th>Level</th>
            <th>Stamp</th>
            <th>Project</th>
            <th>Period</th>
            <th>Stage</th>
            <th>Step</th>
            <th>Message</th>
        </tr>
    </thead>
    <tbody>
        {% for log in log_list %}
        <tr class="toggle-level{{log.level}}">
            <td>{{ log.id}} </td>
            <td>{{ log.level}} </td>
            <td>{{ log.time_stamp_id}} </td>
            <td>{{ log.project_id}} </td>
            <td>{{ log.period }}</td>
            <td>{{ log.stage }}</td>
            <td>{{ log.step }}</td>
            <td class="pl-{{log.level}}"><span class="log-level{{log.level}}">{{log.message|mark_as_safe }}</span> </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %} {% block extra_js %}
<script>
    $(document).ready(function() {
        $('#log').DataTable({
            "columns": [{
                "width": "4%"
            }, {
                "width": "2%"
            }, {
                "width": "2%"
            }, {
                "width": "2%"
            }, {
                "width": "5%"
            }, {
                "width": "5%"
            }, {
                "width": "81%"
            }, ],
            "paging": false,
            "info": false,
            "borders": false,
            "searching": false
        });
    });
</script>

{% endblock %}